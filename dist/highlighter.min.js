!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};const t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;var n,o=(n="SHA-256",async(e,o)=>{"string"==typeof e&&(e=(new t.TextEncoder).encode(e)),o={outputFormat:"hex",...o};const i=await t.crypto.subtle.digest(n,e);return"hex"===o.outputFormat?(e=>{const t=new DataView(e);let n="";for(let e=0;e<t.byteLength;e+=4)n+=t.getUint32(e).toString(16).padStart(8,"0");return n})(i):i});const i="jquery-highlighter-highlighted",r=GM_info.script.name+": clear data",s={enabled:!1},a=function(){return $(this)},c={days:7},l="2/"+GM_info.script.version.split(".")[0],u=((d={}).second=d.seconds=1,d.minute=d.minutes=60*d.seconds,d.hour=d.hours=60*d.minutes,d.day=d.days=24*d.hours,d.week=d.weeks=7*d.days,d);var d;const f=Symbol();class g{delete(e){const t=this.has(e);return GM_deleteValue(e),t}get(e){const t=GM_getValue(e,f);return t===f?void 0:t}has(e){return GM_getValue(e,f)!==f}keys(){return GM_listValues()}set(e,t){return GM_setValue(e,t),this}}function p(...e){s.enabled&&console.warn(...e)}function h(e,t){for(const n of e.keys()){const o=e.get(n);let i=!0;if(-1===t)p("purging value (forced): "+n);else if("number"!=typeof o.expires||"string"!=typeof o.version)p(`purging invalid value: ${n}:`,o);else if(t>o.expires){p(`purging expired value: ${n} (${new Date(o.expires).toLocaleString()})`)}else o.version!==l?p(`purging obsolete value: ${n} (${o.version})`):i=!1;i&&e.delete(n)}}function y(e,t,n={}){const o=n.context||document,i=typeof t;if("function"===i)return t.apply(o,n.args||[]);if("string"===i)return $(t,o);throw new TypeError(`invalid ${e} selector: expected string or function, got: ${i}`)}jQuery.highlight=(e=>async function(t){const n=Date.now(),d=!("cache"in t)||!!t.cache?new g:new Map,f="dedup"in t&&!t.dedup,w=function(e){let t=0;for(const n in e)t+=e[n]*(u[n]||0);return 1e3*t}(t.ttl||c),v=t.color||"#FFFD66",b=t.target||a,m=t.id||"id",x=t.item,$=t.onHighlight||function(){};let M;if(s.enabled="debug"in t&&!!t.debug,"function"==typeof m)M=(e,t)=>y("id",m,{context:e,args:t});else{if("string"!=typeof m)throw new TypeError("invalid ID selector: expected string or function, got: "+m);M=t=>e(t).attr(m)}if("string"!=typeof x&&"function"!=typeof x)throw new TypeError("invalid item selector: expected string or function, got: "+x);async function G(e){for(const t of e){const e=y("target",b,{context:t,args:[t]}),r=M(t,[e]),s=await o(r),a=d.has(s);if(a&&!f||(e.css("background-color",v),e.addClass(i),$.call(t,e,{id:r,color:v})),!a){const e=n+w,t={expires:e,version:l};p(`caching ${r} (${s}) until ${new Date(e).toLocaleString()}`),d.set(s,t)}}}GM_registerMenuCommand(r,()=>{h(d,-1)}),h(d,n);const T=e(document);if(T.onCreate&&"string"==typeof x)T.onCreate(x,G,!0);else{const e=y("item",x);await G(e)}})(jQuery),jQuery.highlight.className=i,jQuery.highlight.selector="."+i}();
